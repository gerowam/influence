<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on April 2, 2015 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU Scientific Library</title>

<meta name="description" content="GNU Scientific Library">
<meta name="keywords" content="GNU Scientific Library">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="About-GSL"></a>
<h1 class="settitle">About GSL</h1>


<p>The <i>GNU Scientific Library</i> is a library of scientific subroutines.  It aims to
provide a convenient interface to routines that do standard (and not so
standard) tasks that arise in scientific research.  More than that, it
also provides the source code.  Users are welcome to alter, adjust,
modify, and improve the interfaces and/or implementations of whichever
routines might be needed for a particular purpose.
</p>
<p>GSL is intended to provide a free equivalent to existing proprietary
numerical libraries written in C or Fortran, such as NAG, IMSL&rsquo;s CNL,
IBM&rsquo;s ESSL, and SGI&rsquo;s SCSL.
</p>
<p>The target platform is a low-end desktop workstation. The goal is to
provide something which is generally useful, and the library is aimed at
general users rather than specialists.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Motivation">1. Motivation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  
</td></tr>
<tr><td align="left" valign="top"><a href="#Contributing">2. Contributing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                
</td></tr>
<tr><td align="left" valign="top"><a href="#Design">3. Design</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      
</td></tr>
<tr><td align="left" valign="top"><a href="#Bibliography">4. Bibliography</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                
</td></tr>
<tr><td align="left" valign="top"><a href="#Copying">Copying</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     
</td></tr>
<tr><td align="left" valign="top"><a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<hr size="1">
<a name="Motivation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Motivation-1"></a>
<h1 class="chapter">1. Motivation</h1>
<a name="index-numerical-analysis"></a>
<a name="index-free-software"></a>

<p>There is a need for scientists and engineers to have a numerical library
that:
</p><ul>
<li>
is free (in the sense of freedom, not in the sense of gratis; see the
GNU General Public License), so that people can use that library,
redistribute it, modify it &hellip;
</li><li>
is written in C using modern coding conventions, calling conventions,
scoping &hellip;
</li><li>
is clearly and pedagogically documented; preferably with TeXinfo, so as
to allow online info, WWW and TeX output.
</li><li>
uses top quality state-of-the-art algorithms.
</li><li>
is portable and configurable using <em>autoconf</em> and <em>automake</em>.
</li><li>
basically, is GNUlitically correct.
</li></ul>

<p>There are strengths and weaknesses with existing libraries:
</p>
<p><em>Netlib</em> (http://www.netlib.org/) is probably the most advanced set
of numerical algorithms available on the net, maintained by AT&amp;T.
Unfortunately most of the software is written in Fortran, with strange
calling conventions in many places.  It is also not very well collected,
so it is a lot of work to get started with netlib.
</p>
<p><em>GAMS</em> (http://gams.nist.gov/) is an extremely well organized set
of pointers to scientific software, but like netlib, the individual
routines vary in their quality and their level of documentation.
</p>
<p><em>Numerical Recipes</em> (http://www.nr.com,
http://cfata2.harvard.edu/nr/) is an excellent book: it explains the
algorithms in a very clear way.  Unfortunately the authors released the
source code under a license which allows you to use it, but prevents you
from re-distributing it.  Thus Numerical Recipes is not <em>free</em> in
the sense of <em>freedom</em>.  On top of that, the implementation suffers
from <em>fortranitis</em> and other
limitations. [http://www.lysator.liu.se/c/num-recipes-in-c.html]
</p>
<p><em>SLATEC</em> is a large public domain collection of numerical routines
in Fortran written under a Department of Energy program in the
1970&rsquo;s. The routines are well tested and have a reasonable overall
design (given the limitations of that era).  GSL should aim to be a
modern version of SLATEC.
</p>
<p><em>NSWC</em> is the Naval Surface Warfare Center numerical library.  It
is a large public-domain Fortran library, containing a lot of
high-quality code.  Documentation for the library is hard to find, only
a few photocopies of the printed manual are still in circulation.
</p>
<p><em>NAG</em> and <em>IMSL</em> both sell high-quality libraries which are
proprietary.  The NAG library is more advanced and has wider scope than
IMSL. The IMSL library leans more towards ease-of-use and makes
extensive use of variable length argument lists to emulate &quot;default
arguments&quot;.
</p>
<p><em>ESSL</em> and <em>SCSL</em> are proprietary libraries from IBM and SGI.
</p>
<p><em>Forth Scientific Library</em> [see the URL
http://www.taygeta.com/fsl/sciforth.html].  Mainly of interest to Forth
users.
</p>
<p><em>Numerical Algorithms with C</em> G. Engeln-Mullges, F. Uhlig. A nice
numerical library written in ANSI C with an accompanying
textbook. Source code is available but the library is not free software.
</p>
<p><em>NUMAL</em> A C version of the NUMAL library has been written by
H.T. Lau and is published as a book and disk with the title &quot;A Numerical
Library in C for Scientists and Engineers&quot;. Source code is available but
the library is not free software.
</p>
<p><em>C Mathematical Function Handbook</em> by Louis Baker. A library of
function approximations and methods corresponding to those in the
&quot;Handbook of Mathematical Functions&quot; by Abramowitz and Stegun.  Source
code is available but the library is not free software.
</p>
<p><em>CCMATH</em> by Daniel A. Atkinson. A C numerical library covering
similar areas to GSL. The code is quite terse.  Earlier versions were
under the GPL but unfortunately it has changed to the LGPL in recent
versions.
</p>
<p><em>CEPHES</em> A useful collection of high-quality special functions
written in C. Not GPL&rsquo;ed.
</p>
<p><em>WNLIB</em> A small collection of numerical routines written in C by
Will Naylor. Public domain.
</p>
<p><em>MESHACH</em> A comprehensive matrix-vector linear algebra library
written in C. Freely available but not GPL&rsquo;ed (non-commercial license).
</p>
<p><em>CERNLIB</em> is a large high-quality Fortran library developed at CERN
over many years.  It was originally non-free software but has recently
been released under the GPL.
</p>
<p><em>COLT</em> is a free numerical library in Java developed at CERN by
Wolfgang Hoschek.  It is under a BSD-style license.
</p>
<p>The long-term goal will be to provide a framework to which the real
numerical experts (or their graduate students) will contribute. 
</p>
<hr size="6">
<a name="Contributing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Motivation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Packages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Motivation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Contributing-1"></a>
<h1 class="chapter">2. Contributing</h1>

<p>This design document was originally written in 1996.  As of 2004, GSL
itself is essentially feature complete, the developers are not actively
working on any major new functionality.
</p>
<p>The main emphasis is now on ensuring the stability of the existing
functions, improving consistency, tidying up a few problem areas and
fixing any bugs that are reported.  Potential contributors are
encouraged to gain familiarity with the library by investigating and
fixing known problems listed in the &lsquo;<tt>BUGS</tt>&rsquo; file in the CVS
repository.
</p>
<p>Adding large amounts of new code is difficult because it leads to
differences in the maturity of different parts of the library.  To
maintain stability, any new functionality is encouraged as
<em>packages</em>, built on top of GSL and maintained independently by the
author, as in other free software projects (such as the Perl CPAN
archive and TeX CTAN archive, etc).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Packages">2.1 Packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    
</td></tr>
</table>

<hr size="6">
<a name="Packages"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Packages-1"></a>
<h2 class="section">2.1 Packages</h2>

<p>The design of GSL permits extensions to be used alongside the existing
library easily by simple linking.  For example, additional random number
generators can be provided in a separate library:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ tar xvfz rngextra-0.1.tar.gz
$ cd rngextra-0.1
$ ./configure; make; make check; make install
$ ...
$ gcc -Wall main.c -lrngextra -lgsl -lgslcblas -lm
</pre></td></tr></table>

<p>The points below summarise the package design guidelines.  These are
intended to ensure that packages are consistent with GSL itself, to make
life easier for the end-user and make it possible to distribute popular
well-tested packages as part of the core GSL in future.
</p>
<ul>
<li> Follow the GSL and GNU coding standards described in this document

<p>This means using the standard GNU packaging tools, such as Automake,
providing documentation in Texinfo format, and a test suite.  The test
suite should run using &lsquo;<samp>make check</samp>&rsquo;, and use the test functions
provided in GSL to produce the output with <code>PASS:</code>/<code>FAIL:</code>
lines.  It is not essential to use libtool since packages are likely to
be small, a static library is sufficient and simpler to build.
</p>
</li><li> Use a new unique prefix for the package (do not use &lsquo;<samp>gsl_</samp>&rsquo; &ndash; this is reserved for internal use).

<p>For example, a package of additional random number generators might use
the prefix <code>rngextra</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#include &lt;rngextra.h&gt;

gsl_rng * r = gsl_rng_alloc (rngextra_lsfr32);
</pre></td></tr></table>

</li><li> Use a meaningful version number which reflects the state of development

<p>Generally, <code>0.x</code> are alpha versions, which provide no guarantees.
Following that, <code>0.9.x</code> are beta versions, which should be essentially
complete, subject only to minor changes and bug fixes.  The first major
release is <code>1.0</code>.  Any version number of <code>1.0</code> or higher
should be suitable for production use with a well-defined API.
</p>
<p>The API must not change in a major release and should be
backwards-compatible in its behavior (excluding actual bug-fixes), so
that existing code do not have to be modified.  Note that the API
includes all exported definitions, including data-structures defined
with <code>struct</code>.  If you need to change the API in a package, it
requires a new major release (e.g. <code>2.0</code>).
</p>
</li><li> Use the GNU General Public License (GPL)

<p>Follow the normal procedures of obtaining a copyright disclaimer if you
would like to have the package considered for inclusion in GSL itself in
the future (see section <a href="#Legal-issues">Legal issues</a>).
</p></li></ul>

<p>Post announcements of your package releases to
<a href="mailto:gsl-discuss@sourceware.org">gsl-discuss@sourceware.org</a> so that information about them
can be added to the GSL webpages.
</p>
<p>For security, sign your package with GPG (<code>gpg --detach-sign
<var>file</var></code>).
</p>
<p>An example package &lsquo;<samp>rngextra</samp>&rsquo; containing two additional random
number generators can be found at
<a href="http://www.network-theory.co.uk/download/rngextra/">http://www.network-theory.co.uk/download/rngextra/</a>.
</p>
<hr size="6">
<a name="Design"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Packages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Language-for-implementation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Design-1"></a>
<h1 class="chapter">3. Design</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Language-for-implementation">3.1 Language for implementation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Interface-to-other-languages">3.2 Interface to other languages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#What-routines-are-implemented">3.3 What routines are implemented</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#What-routines-are-not-implemented">3.4 What routines are not implemented</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Design-of-Numerical-Libraries">3.5 Design of Numerical Libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Code-Reuse">3.6 Code Reuse</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  
</td></tr>
<tr><td align="left" valign="top"><a href="#Standards-and-conventions">3.7 Standards and conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   
</td></tr>
<tr><td align="left" valign="top"><a href="#Background-and-Preparation">3.8 Background and Preparation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Choice-of-Algorithms">3.9 Choice of Algorithms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation">3.10 Documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#Namespace">3.11 Namespace</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   
</td></tr>
<tr><td align="left" valign="top"><a href="#Header-files">3.12 Header files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                
</td></tr>
<tr><td align="left" valign="top"><a href="#Target-system">3.13 Target system</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#Function-Names">3.14 Function Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              
</td></tr>
<tr><td align="left" valign="top"><a href="#Object_002dorientation">3.15 Object-orientation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          
</td></tr>
<tr><td align="left" valign="top"><a href="#Comments">3.16 Comments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    
</td></tr>
<tr><td align="left" valign="top"><a href="#Minimal-structs">3.17 Minimal structs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             
</td></tr>
<tr><td align="left" valign="top"><a href="#Algorithm-decomposition">3.18 Algorithm decomposition</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     
</td></tr>
<tr><td align="left" valign="top"><a href="#Memory-allocation-and-ownership">3.19 Memory allocation and ownership</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Memory-layout">3.20 Memory layout</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#Linear-Algebra-Levels">3.21 Linear Algebra Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       
</td></tr>
<tr><td align="left" valign="top"><a href="#Error-estimates">3.22 Error estimates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             
</td></tr>
<tr><td align="left" valign="top"><a href="#Exceptions-and-Error-handling">3.23 Exceptions and Error handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Persistence">3.24 Persistence</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-Return-Values">3.25 Using Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         
</td></tr>
<tr><td align="left" valign="top"><a href="#Variable-Names">3.26 Variable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              
</td></tr>
<tr><td align="left" valign="top"><a href="#Datatype-widths">3.27 Datatype widths</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             
</td></tr>
<tr><td align="left" valign="top"><a href="#size_005ft">3.28 size_t</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      
</td></tr>
<tr><td align="left" valign="top"><a href="#Arrays-vs-Pointers">3.29 Arrays vs Pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          
</td></tr>
<tr><td align="left" valign="top"><a href="#Pointers">3.30 Pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    
</td></tr>
<tr><td align="left" valign="top"><a href="#Constness">3.31 Constness</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   
</td></tr>
<tr><td align="left" valign="top"><a href="#Pseudo_002dtemplates">3.32 Pseudo-templates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            
</td></tr>
<tr><td align="left" valign="top"><a href="#Arbitrary-Constants">3.33 Arbitrary Constants</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         
</td></tr>
<tr><td align="left" valign="top"><a href="#Test-suites">3.34 Test suites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><td align="left" valign="top"><a href="#Compilation">3.35 Compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><td align="left" valign="top"><a href="#Thread_002dsafety">3.36 Thread-safety</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#Legal-issues">3.37 Legal issues</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                
</td></tr>
<tr><td align="left" valign="top"><a href="#Non_002dUNIX-portability">3.38 Non-UNIX portability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        
</td></tr>
<tr><td align="left" valign="top"><a href="#Compatibility-with-other-libraries">3.39 Compatibility with other libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Parallelism">3.40 Parallelism</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><td align="left" valign="top"><a href="#Precision">3.41 Precision</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   
</td></tr>
<tr><td align="left" valign="top"><a href="#Miscellaneous">3.42 Miscellaneous</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
</table>

<hr size="6">
<a name="Language-for-implementation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Design" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interface-to-other-languages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Language-for-implementation-1"></a>
<h2 class="section">3.1 Language for implementation</h2>

<p><strong>One language only (C)</strong>
</p>
<p>Advantages: simpler, compiler available and quite universal.
</p>
<hr size="6">
<a name="Interface-to-other-languages"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Language-for-implementation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#What-routines-are-implemented" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Interface-to-other-languages-1"></a>
<h2 class="section">3.2 Interface to other languages</h2>

<p>Wrapper packages are supplied as &quot;extra&quot; packages; not as part of the
&quot;core&quot;. They are maintained separately by independent contributors.
</p>
<p>Use standard tools to make wrappers: swig, g-wrap
</p>
<hr size="6">
<a name="What-routines-are-implemented"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Interface-to-other-languages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#What-routines-are-not-implemented" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="What-routines-are-implemented-1"></a>
<h2 class="section">3.3 What routines are implemented</h2>

<p>Anything which is in any of the existing libraries.  Obviously it makes
sense to prioritize and write code for the most important areas first.
</p>





















<hr size="6">
<a name="What-routines-are-not-implemented"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#What-routines-are-implemented" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design-of-Numerical-Libraries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="What-routines-are-not-implemented-1"></a>
<h2 class="section">3.4 What routines are not implemented</h2>

<ul>
<li> anything which already exists as a high-quality GPL&rsquo;ed package.

</li><li> anything which is too big
 &ndash; i.e. an application in its own right rather than a subroutine

<p>For example, partial differential equation solvers are often huge and
very specialized applications (since there are so many types of PDEs,
types of solution, types of grid, etc).  This sort of thing should
remain separate.  It is better to point people to the good applications
which exist.
</p>
</li><li> anything which is independent and useful separately.

<p>Arguably functions for manipulating date and time, or financial
functions might be included in a &quot;scientific&quot; library.  However, these
sorts of modules could equally well be used independently in other
programs, so it makes sense for them to be separate libraries.
</p></li></ul>

<hr size="6">
<a name="Design-of-Numerical-Libraries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#What-routines-are-not-implemented" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Code-Reuse" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Design-of-Numerical-Libraries-1"></a>
<h2 class="section">3.5 Design of Numerical Libraries</h2>

<p>In writing a numerical library there is a unavoidable conflict between
completeness and simplicity.  Completeness refers to the ability to
perform operations on different objects so that the group is
&quot;closed&quot;. In mathematics objects can be combined and operated on in an
infinite number of ways.  For example, I can take the derivative of a
scalar field with respect to a vector and the derivative of a vector
field wrt. a scalar (along a path).
</p>
<p>There is a definite tendency to unconsciously try to reproduce all these
possibilities in a numerical library, by adding new features one by
one. After all, it is always easy enough to support just one more
feature &hellip; so why not?
</p>
<p>Looking at the big picture, no-one would start out by saying &quot;I want to
be able to represent every possible mathematical object and operation
using C structs&quot; &ndash; this is a strategy which is doomed to fail.  There
is a limited amount of complexity which can be represented in a
programming language like C.  Attempts to reproduce the complexity of
mathematics within such a language would just lead to a morass of
unmaintainable code.  However, it&rsquo;s easy to go down that road if you
don&rsquo;t think about it ahead of time.
</p>
<p>It is better to choose simplicity over completeness.  In designing new
parts of the library keep modules independent where possible. If
interdependencies between modules are introduced be sure about where you
are going to draw the line.
</p>
<hr size="6">
<a name="Code-Reuse"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Design-of-Numerical-Libraries" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Standards-and-conventions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Code-Reuse-1"></a>
<h2 class="section">3.6 Code Reuse</h2>

<p>It is useful if people can grab a single source file and include it in
their own programs without needing the whole library.  Try to allow
standalone files like this whenever it is reasonable.  Obviously the
user might need to define a few macros, such as GSL_ERROR, to compile
the file but that is ok.  Examples where this can be done: grabbing a
single random number generator.
</p>
<hr size="6">
<a name="Standards-and-conventions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Code-Reuse" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Background-and-Preparation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Standards-and-conventions-1"></a>
<h2 class="section">3.7 Standards and conventions</h2>

<p>The people who kick off this project should set the coding standards and
conventions.  In order of precedence the  standards that we follow are,
</p>
<ul>
<li> We follow the GNU Coding Standards.
</li><li> We follow the conventions of the ANSI Standard C Library.
</li><li> We follow the conventions of the GNU C Library.
</li><li> We follow the conventions of the glib GTK support Library.
</li></ul>

<p>The references for these standards are the <cite>GNU Coding Standards</cite>
document, Harbison and Steele <cite>C: A Reference Manual</cite>, the
<cite>GNU C Library Manual</cite> (version 2), and the Glib source code.
</p>
<p>For mathematical formulas, always follow the conventions in Abramowitz &amp;
Stegun, the <cite>Handbook of Mathematical Functions</cite>, since it is the
definitive reference and also in the public domain.
</p>
<p>If the project has a philosophy it is to &quot;Think in C&quot;.  Since we are
working in C we should only do what is natural in C, rather than trying
to simulate features of other languages.  If there is something which is
unnatural in C and has to be simulated then we avoid using it. If this
means leaving something out of the library, or only offering a limited
version then so be it.  It is not worthwhile making the library
over-complicated.  There are numerical libraries in other languages, and
if people need the features of those languages it would be sensible for
them to use the corresponding libraries, rather than coercing a C
library into doing that job.  
</p>
<p>It should be borne in mind at all time that C is a macro-assembler.  If
you are in doubt about something being too complicated ask yourself the
question &quot;Would I try to write this in macro-assembler?&quot; If the answer
is obviously &quot;No&quot; then do not try to include it in GSL. [BJG]
</p>
<p>It will be useful to read the following papers,
</p>
<ul class="toc">
<li> 
Kiem-Phong Vo, &ldquo;The Discipline and Method Architecture for Reusable
Libraries&rdquo;, Software - Practice &amp; Experience, v.30, pp.107-128, 2000.
</li></ul>

<p>It is available from
<a href="http://www.research.att.com/sw/tools/sfio/dm-spe.ps">http://www.research.att.com/sw/tools/sfio/dm-spe.ps</a> or the earlier
technical report Kiem-Phong Vo, &quot;An Architecture for Reusable Libraries&quot;
<a href="http://citeseer.nj.nec.com/48973.html">http://citeseer.nj.nec.com/48973.html</a>.
</p>
<p>There are associated papers on Vmalloc, SFIO, and CDT which are also
relevant to the design of portable C libraries.
</p>
<ul class="toc">
<li>
Kiem-Phong Vo, &ldquo;Vmalloc: A General and Efficient Memory
Allocator&rdquo;. Software Practice &amp; Experience, 26:1&ndash;18, 1996.

<p><a href="http://www.research.att.com/sw/tools/vmalloc/vmalloc.ps">http://www.research.att.com/sw/tools/vmalloc/vmalloc.ps</a>
</p></li><li>
Kiem-Phong Vo. &ldquo;Cdt: A Container Data Type Library&rdquo;. Soft. Prac. &amp;
Exp., 27:1177&ndash;1197, 1997

<p><a href="http://www.research.att.com/sw/tools/cdt/cdt.ps">http://www.research.att.com/sw/tools/cdt/cdt.ps</a>
</p></li><li>
David G. Korn and Kiem-Phong Vo, &ldquo;Sfio: Safe/Fast String/File IO&rdquo;,
Proceedings of the Summer &rsquo;91 Usenix Conference, pp.  235-256, 1991.

<p><a href="http://citeseer.nj.nec.com/korn91sfio.html">http://citeseer.nj.nec.com/korn91sfio.html</a>
</p></li></ul>

<p>Source code should be indented according to the GNU Coding Standards,
with spaces not tabs. For example, by using the <code>indent</code> command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">indent -gnu -nut *.c *.h
</pre></td></tr></table>

<p>The <code>-nut</code> option converts tabs into spaces.
</p>
<hr size="6">
<a name="Background-and-Preparation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Standards-and-conventions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Choice-of-Algorithms" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Background-and-Preparation-1"></a>
<h2 class="section">3.8 Background and Preparation</h2>

<p>Before implementing something be sure to research the subject
thoroughly!  This will save a lot of time in the long-run.  The two most
important steps are,
</p>
<ol>
<li>
to determine whether there is already a free library (GPL or
GPL-compatible) which does the job.  If so, there is no need to
reimplement it.  Carry out a search on Netlib, GAMs, na-net,
sci.math.num-analysis and the web in general. This should also provide
you with a list of existing proprietary libraries which are relevant,
keep a note of these for future reference in step 2.

</li><li> 
make a comparative survey of existing implementations in the
commercial/free libraries. Examine the typical APIs, methods of
communication between program and subroutine, and classify them so that
you are familiar with the key concepts or features that an
implementation may or may not have, depending on the relevant tradeoffs
chosen.  Be sure to review the documentation of existing libraries for
useful references.

</li><li>
read up on the subject and determine the state-of-the-art.  Find the
latest review papers.  A search of the following journals should be
undertaken.

<ul class="toc">
<li> ACM Transactions on Mathematical Software
</li><li> Numerische Mathematik
</li><li> Journal of Computation and Applied Mathematics
</li><li> Computer Physics Communications
</li><li> SIAM Journal of Numerical Analysis
</li><li> SIAM Journal of Scientific Computing
</li></ul>
</li></ol>

<p>Keep in mind that GSL is not a research project.  Making a good
implementation is difficult enough, without also needing to invent new
algorithms.  We want to implement existing algorithms whenever
possible. Making minor improvements is ok, but don&rsquo;t let it be a
time-sink.
</p>
<hr size="6">
<a name="Choice-of-Algorithms"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Background-and-Preparation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Documentation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Choice-of-Algorithms-1"></a>
<h2 class="section">3.9 Choice of Algorithms</h2>

<p>Whenever possible choose algorithms which scale well and always remember
to handle asymptotic cases.  This is particularly relevant for functions
with integer arguments.  It is tempting to implement these using the
simple <em>O(n)</em> algorithms used to define the functions, such as the
many recurrence relations found in Abramowitz and Stegun.  While such
methods might be acceptable for <em>n=O(10-100)</em> they will not be
satisfactory for a user who needs to compute the same function for
<em>n=1000000</em>.
</p>
<p>Similarly, do not make the implicit assumption that multivariate data
has been scaled to have components of the same size or O(1).  Algorithms
should take care of any necessary scaling or balancing internally, and
use appropriate norms (e.g. |Dx| where D is a diagonal scaling matrix,
rather than |x|).
</p>
<hr size="6">
<a name="Documentation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Choice-of-Algorithms" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Namespace" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Documentation-1"></a>
<h2 class="section">3.10 Documentation</h2>
<p>Documentation: the project leaders should give examples of how things
are to be documented.  High quality documentation is absolutely
mandatory, so documentation should introduce the topic, and give careful
reference for the provided functions. The priority is to provide
reference documentation for each function. It is not necessary to
provide tutorial documentation.
</p>
<p>Use free software, such as GNU Plotutils, to produce the graphs in the
manual.
</p>
<p>Some of the graphs have been made with gnuplot which is not truly free
(or GNU) software, and some have been made with proprietary
programs. These should be replaced with output from GNU plotutils.
</p>
<p>When citing references be sure to use the standard, definitive and
best reference books in the field, rather than lesser known text-books
or introductory books which happen to be available (e.g. from
undergraduate studies).  For example, references concerning algorithms
should be to Knuth, references concerning statistics should be to
Kendall &amp; Stuart, references concerning special functions should be to
Abramowitz &amp; Stegun (Handbook of Mathematical Functions AMS-55), etc.
Wherever possible refer to Abramowitz &amp; Stegun rather than other
reference books because it is a public domain work, so it is
inexpensive and freely redistributable.
</p>
<p>The standard references have a better chance of being available in an
accessible library for the user.  If they are not available and the user
decides to buy a copy in order to look up the reference then this also
gives them the best quality book which should also cover the largest
number of other references in the GSL Manual.  If many different books
were to be referenced this would be an expensive and inefficient use of
resources for a user who needs to look up the details of the algorithms.
Reference books also stay in print much longer than text books, which
are often out-of-print after a few years.
</p>
<p>Similarly, cite original papers wherever possible.  Be sure to keep
copies of these for your own reference (e.g. when dealing with bug
reports) or to pass on to future maintainers.
</p>
<p>If you need help in tracking down references, ask on the
<code>gsl-discuss</code> mailing list.  There is a group of volunteers with
access to good libraries who have offered to help GSL developers get
copies of papers.
</p>


<p>To write mathematics in the texinfo file you can use the <code>@math</code>
command with <em>simple</em> TeX commands. These are automatically
surrounded by <code>$...$</code> for math mode. For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">to calculate the coefficient @math{\alpha} use the function...
</pre></td></tr></table>

<p>will be correctly formatted in both online and TeX versions of the
documentation.
</p>
<p>Note that you cannot use the special characters { and }
inside the <code>@math</code> command because these conflict between TeX
and Texinfo.  This is a problem if you want to write something like
<code>\sqrt{x+y}</code>.  
</p>
<p>To work around it you can precede the math command with a special
macro <code>@c</code> which contains the explicit TeX commands you want to
use (no restrictions), and put an ASCII approximation into the
<code>@math</code> command (you can write <code>@{</code> and
<code>@}</code> there for the left and right braces).  The explicit TeX
commands are used in the TeX output and the argument of <code>@math</code>
in the plain info output.  
</p>
<p>Note that the <code>@c{}</code> macro must go at the end of the
preceding line, because everything else after it is ignored&mdash;as far
as texinfo is concerned it&rsquo;s actually a &rsquo;comment&rsquo;. The comment
command @c has been modified to capture a TeX expression which is
output by the next @math command. For ordinary comments use the @comment
command.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">this is a test @c{$\sqrt{x+y}$}
@math{\sqrt@{x+y@}}
</pre></td></tr></table>

<p>is equivalent to <code>this is a test $\sqrt{x+y}$</code> in plain TeX
and <code>this is a test @math{\sqrt@{x+y@}}</code> in Info.  
</p>
<p>It looks nicer if some of the more cryptic TeX commands are given
a C-style ascii version, e.g.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">for @c{$x \ge y$}
@math{x &gt;= y}
</pre></td></tr></table>

<p>will be appropriately displayed in both TeX and Info.
</p>

<hr size="6">
<a name="Namespace"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Documentation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Header-files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Namespace-1"></a>
<h2 class="section">3.11 Namespace</h2>

<p>Use <code>gsl_</code> as a prefix for all exported functions and variables.
</p>
<p>Use <code>GSL_</code> as a prefix for all exported macros.
</p>
<p>All exported header files should have a filename with the prefix <code>gsl_</code>.
</p>
<p>All installed libraries should have a name like libgslhistogram.a
</p>
<p>Any installed executables (utility programs etc) should have the prefix
<code>gsl-</code> (with a hyphen, not an underscore).
</p>
<p>All function names, variables, etc. should be in lower case.  Macros and
preprocessor variables should be in upper case.
</p>
<p>Some common conventions in variable and function names:
</p>
<dl compact="compact">
<dt> <code>p1</code></dt>
<dd><p>plus 1, e.g. function <code>log1p(x)</code> or a variable like <code>kp1</code>, <em>=k+1</em>.
</p>
</dd>
<dt> <code>m1</code></dt>
<dd><p>minus 1, e.g. function <code>expm1(x)</code> or a variable like <code>km1</code>, <em>=k-1</em>.
</p></dd>
</dl>

<hr size="6">
<a name="Header-files"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Namespace" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Target-system" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Header-files-1"></a>
<h2 class="section">3.12 Header files</h2>

<p>Installed header files should be idempotent, i.e. surround them by the
preprocessor conditionals like the following,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#ifndef __GSL_HISTOGRAM_H__
#define __GSL_HISTOGRAM_H__
...
#endif /* __GSL_HISTOGRAM_H__ */
</pre></td></tr></table>

<hr size="6">
<a name="Target-system"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Header-files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Target-system-1"></a>
<h2 class="section">3.13 Target system</h2>

<p>The target system is ANSI C, with a full Standard C Library, and IEEE
arithmetic.
</p>
<hr size="6">
<a name="Function-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Target-system" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Object_002dorientation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Function-Names-1"></a>
<h2 class="section">3.14 Function Names</h2>

<p>Each module has a name, which prefixes any function names in that
module, e.g. the module gsl_fft has function names like
gsl_fft_init. The modules correspond to subdirectories of the library
source tree.
</p>
<hr size="6">
<a name="Object_002dorientation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Function-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Comments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Object_002dorientation-1"></a>
<h2 class="section">3.15 Object-orientation</h2>

<p>The algorithms should be object oriented, but only to the extent that is
easy in portable ANSI C.  The use of casting or other tricks to simulate
inheritance is not desirable, and the user should not have to be aware
of anything like that.  This means many types of patterns are ruled
out.  However, this is not considered a problem &ndash; they are too
complicated for the library.  
</p>
<p>Note: it is possible to define an abstract base class easily in C, using
function pointers.  See the rng directory for an example. 
</p>
<p>When reimplementing public domain Fortran code, please try to introduce
the appropriate object concepts as structs, rather than translating the
code literally in terms of arrays.  The structs can be useful just
within the file, you don&rsquo;t need to export them to the user.
</p>
<p>For example, if a Fortran program repeatedly uses a subroutine like,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">SUBROUTINE  RESIZE (X, K, ND, K1)
</pre></td></tr></table>

<p>where X(K,D) represents a grid to be resized to X(K1,D) you can make
this more readable by introducing a struct,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">struct grid {
    int nd;  /* number of dimensions */
    int k;   /* number of bins */
    double * x;   /* partition of axes, array of size x[k][nd] */
}

void
resize_grid (struct grid * g, int k_new)
{
...
}
</pre></td></tr></table>

<p>Similarly, if you have a frequently recurring code fragment within a
single file you can define a static or static inline function for it.
This is typesafe and saves writing out everything in full.
</p>

<hr size="6">
<a name="Comments"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Object_002dorientation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Minimal-structs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Comments-1"></a>
<h2 class="section">3.16 Comments</h2>

<p>Follow the GNU Coding Standards.  A relevant quote is,
</p>
<p>&ldquo;Please write complete sentences and capitalize the first word.  If a
lower-case identifier comes at the beginning of a sentence, don&rsquo;t
capitalize it!  Changing the spelling makes it a different identifier.
If you don&rsquo;t like starting a sentence with a lower case letter, write
the sentence differently (e.g., &quot;The identifier lower-case is ...&quot;).&rdquo;
</p>
<hr size="6">
<a name="Minimal-structs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Comments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Algorithm-decomposition" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Minimal-structs-1"></a>
<h2 class="section">3.17 Minimal structs</h2>

<p>We prefer to make structs which are <em>minimal</em>.  For example, if a
certain type of problem can be solved by several classes of algorithm
(e.g. with and without derivative information) it is better to make
separate types of struct to handle those cases.  i.e. run time type
identification is not desirable.
</p>
<hr size="6">
<a name="Algorithm-decomposition"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Minimal-structs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Memory-allocation-and-ownership" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Algorithm-decomposition-1"></a>
<h2 class="section">3.18 Algorithm decomposition</h2>

<p>Iterative algorithms should be decomposed into an INITIALIZE, ITERATE,
TEST form, so that the user can control the progress of the iteration
and print out intermediate results.  This is better than using
call-backs or using flags to control whether the function prints out
intermediate results.  In fact, call-backs should not be used &ndash; if they
seem necessary then it&rsquo;s a sign that the algorithm should be broken down
further into individual components so that the user has complete control
over them.  
</p>
<p>For example, when solving a differential equation the user may need to
be able to advance the solution by individual steps, while tracking a
realtime process.  This is only possible if the algorithm is broken down
into step-level components.  Higher level decompositions would not give
sufficient flexibility.
</p>
<hr size="6">
<a name="Memory-allocation-and-ownership"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Algorithm-decomposition" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Memory-layout" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Memory-allocation-and-ownership-1"></a>
<h2 class="section">3.19 Memory allocation and ownership</h2>

<p>Functions which allocate memory on the heap should end in _alloc
(e.g. gsl_foo_alloc) and be deallocated by a corresponding _free function
(gsl_foo_free).
</p>
<p>Be sure to free any memory allocated by your function if you have to
return an error in a partially initialized object.
</p>
<p>Don&rsquo;t allocate memory &rsquo;temporarily&rsquo; inside a function and then free it
before the function returns.  This prevents the user from controlling
memory allocation.  All memory should be allocated and freed through
separate functions and passed around as a &quot;workspace&quot; argument.  This
allows memory allocation to be factored out of tight loops.
</p>
<p>To avoid confusion over ownership, workspaces should not own each
other or contain other workspaces.  For clarity and ease of use in
different contexts, they should be allocated from integer arguments
rather than derived from other structs.
</p>
<hr size="6">
<a name="Memory-layout"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Memory-allocation-and-ownership" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Linear-Algebra-Levels" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Memory-layout-1"></a>
<h2 class="section">3.20 Memory layout</h2>

<p>We use flat blocks of memory to store matrices and vectors, not C-style
pointer-to-pointer arrays.  The matrices are stored in row-major order
&ndash; i.e. the column index (second index) moves continuously through memory. 
</p>
<hr size="6">
<a name="Linear-Algebra-Levels"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Memory-layout" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Error-estimates" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Linear-Algebra-Levels-1"></a>
<h2 class="section">3.21 Linear Algebra Levels</h2>

<p>Functions using linear algebra are divided into two levels:
</p>
<p>For purely &quot;1d&quot; functions we use the C-style arguments (double *,
stride, size) so that it is simpler to use the functions in a normal C
program, without needing to invoke all the gsl_vector machinery.
</p>
<p>The philosophy here is to minimize the learning curve. If someone only
needs to use one function, like an fft, they can do so without having
to learn about gsl_vector.  
</p>
<p>This leads to the question of why we don&rsquo;t do the same for matrices.
In that case the argument list gets too long and confusing, with
(size1, size2, tda) for each matrix and potential ambiguities over row
vs column ordering. In this case, it makes sense to use gsl_vector and
gsl_matrix, which take care of this for the user.
</p>
<p>So really the library has two levels &ndash; a lower level based on C types
for 1d operations, and a higher level based on gsl_matrix and
gsl_vector for general linear algebra.
</p>
<p>Of course, it would be possible to define a vector version of the
lower level functions too. So far we have not done that because it was
not essential &ndash; it could be done but it is easy enough to get by
using the C arguments, by typing v-&gt;data, v-&gt;stride, v-&gt;size instead.
A gsl_vector version of low-level functions would mainly be a
convenience.
</p>
<p>Please use BLAS routines internally within the library whenever possible
for efficiency.
</p>
<hr size="6">
<a name="Error-estimates"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Linear-Algebra-Levels" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Exceptions-and-Error-handling" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Error-estimates-1"></a>
<h2 class="section">3.22 Error estimates</h2>

<p>In the special functions error bounds are given as twice the expected
&ldquo;Gaussian&rdquo; error, i.e. 2-sigma, so the result is inside the error
98% of the time.  People expect the true value to be within +/- the
quoted error (this wouldn&rsquo;t be the case 32% of the time for 1 sigma).
Obviously the errors are not Gaussian but a factor of two works well
in practice.
</p>
<hr size="6">
<a name="Exceptions-and-Error-handling"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Error-estimates" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Persistence" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Exceptions-and-Error-handling-1"></a>
<h2 class="section">3.23 Exceptions and Error handling</h2>

<p>The basic error handling procedure is the return code (see gsl_errno.h
for a list of allowed values).  Use the GSL_ERROR macro to mark an
error.  The current definition of this macro is not ideal but it can be
changed at compile time. 
</p>
<p>You should always use the GSL_ERROR macro to indicate an error, rather
than just returning an error code. The macro allows the user to trap
errors using the debugger (by setting a breakpoint on the function
gsl_error).  
</p>
<p>The only circumstances where GSL_ERROR should not be used are where the
return value is &quot;indicative&quot; rather than an error &ndash; for example, the
iterative routines use the return code to indicate the success or
failure of an iteration. By the nature of an iterative algorithm
&quot;failure&quot; (a return code of GSL_CONTINUE) is a normal occurrence and
there is no need to use GSL_ERROR there.
</p>
<p>Be sure to free any memory allocated by your function if you return an
error (in particular for errors in partially initialized objects).
</p>
<hr size="6">
<a name="Persistence"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Exceptions-and-Error-handling" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Return-Values" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Persistence-1"></a>
<h2 class="section">3.24 Persistence</h2>

<p>If you make an object foo which uses blocks of memory (e.g. vector,
matrix, histogram) you can provide functions for reading and writing
those blocks,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">int gsl_foo_fread (FILE * stream, gsl_foo * v);
int gsl_foo_fwrite (FILE * stream, const gsl_foo * v);
int gsl_foo_fscanf (FILE * stream, gsl_foo * v);
int gsl_foo_fprintf (FILE * stream, const gsl_foo * v, const char *format);
</pre></td></tr></table>

<p>Only dump out the blocks of memory, not any associated parameters such
as lengths.  The idea is for the user to build higher level input/output
facilities using the functions the library provides.  The fprintf/fscanf
versions should be portable between architectures, while the binary
versions should be the &quot;raw&quot; version of the data. Use the functions
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">int gsl_block_fread (FILE * stream, gsl_block * b);
int gsl_block_fwrite (FILE * stream, const gsl_block * b);
int gsl_block_fscanf (FILE * stream, gsl_block * b);
int gsl_block_fprintf (FILE * stream, const gsl_block * b, const char *format);
</pre></td></tr></table>

<p>or
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">int gsl_block_raw_fread (FILE * stream, double * b, size_t n, size_t stride);
int gsl_block_raw_fwrite (FILE * stream, const double * b, size_t n, size_t stri
de);
int gsl_block_raw_fscanf (FILE * stream, double * b, size_t n, size_t stride);
int gsl_block_raw_fprintf (FILE * stream, const double * b, size_t n, size_t str
ide, const char *format);
</pre></td></tr></table>

<p>to do the actual reading and writing.
</p>
<hr size="6">
<a name="Using-Return-Values"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Persistence" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Variable-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Return-Values-1"></a>
<h2 class="section">3.25 Using Return Values</h2>

<p>Always assign a return value to a variable before using it.  This allows
easier debugging of the function, and inspection and modification of the
return value.  If the variable is only needed temporarily then enclose
it in a suitable scope.
</p>
<p>For example, instead of writing,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">a = f(g(h(x,y)))
</pre></td></tr></table>

<p>use temporary variables to store the intermediate values,
</p><table><tr><td>&nbsp;</td><td><pre class="example">{
  double u = h(x,y);
  double v = g(u);
  a = f(v);
}
</pre></td></tr></table>

<p>These can then be inspected more easily in the debugger, and breakpoints
can be placed more precisely.  The compiler will eliminate the temporary
variables automatically when the program is compiled with optimization.
</p>
<hr size="6">
<a name="Variable-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-Return-Values" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Datatype-widths" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Variable-Names-1"></a>
<h2 class="section">3.26 Variable Names</h2>

<p>Try to follow existing conventions for variable names,
</p>
<dl compact="compact">
<dt> <code>dim</code></dt>
<dd><p>number of dimensions
</p></dd>
<dt> <code>w</code></dt>
<dd><p>pointer to workspace 
</p></dd>
<dt> <code>state</code></dt>
<dd><p>pointer to state variable (use <code>s</code> if you need to save characters)
</p></dd>
<dt> <code>result</code></dt>
<dd><p>pointer to result (output variable)
</p></dd>
<dt> <code>abserr</code></dt>
<dd><p>absolute error 
</p></dd>
<dt> <code>relerr</code></dt>
<dd><p>relative error
</p></dd>
<dt> <code>epsabs</code></dt>
<dd><p>absolute tolerance 
</p></dd>
<dt> <code>epsrel</code></dt>
<dd><p>relative tolerance
</p></dd>
<dt> <code>size</code></dt>
<dd><p>the size of an array or vector e.g. double array[size] 
</p></dd>
<dt> <code>stride</code></dt>
<dd><p>the stride of a vector
</p></dd>
<dt> <code>size1</code></dt>
<dd><p>the number of rows in a matrix
</p></dd>
<dt> <code>size2</code></dt>
<dd><p>the number of columns in a matrix
</p></dd>
<dt> <code>n</code></dt>
<dd><p>general integer number, e.g. number of elements of array, in fft, etc
</p></dd>
<dt> <code>r</code></dt>
<dd><p>random number generator (gsl_rng)
</p></dd>
</dl>

<hr size="6">
<a name="Datatype-widths"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Variable-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#size_005ft" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Datatype-widths-1"></a>
<h2 class="section">3.27 Datatype widths</h2>

<p>Be aware that in ANSI C the type <code>int</code> is only guaranteed to
provide 16-bits. It may provide more, but is not guaranteed to.
Therefore if you require 32 bits you must use <code>long int</code>, which
will have 32 bits or more.  Of course, on many platforms the type
<code>int</code> does have 32 bits instead of 16 bits but we have to code to
the ANSI standard rather than a specific platform.
</p>
<hr size="6">
<a name="size_005ft"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Datatype-widths" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Arrays-vs-Pointers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="size_005ft-1"></a>
<h2 class="section">3.28 size_t</h2>

<p>All objects (blocks of memory, etc) should be measured in terms of a
<code>size_t</code> type.  Therefore any iterations (e.g. <code>for(i=0; i&lt;N;
i++)</code>) should also use an index of type <code>size_t</code>.  
</p>
<p>Don&rsquo;t mix <code>int</code> and <code>size_t</code>.  They are <em>not</em>
interchangeable.
</p>
<p>If you need to write a descending loop you have to be careful because
<code>size_t</code> is unsigned, so instead of
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">for (i = N - 1; i &gt;= 0; i--) { ... } /* DOESN'T WORK */
</pre></td></tr></table>

<p>use something like
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">for (i = N; i-- &gt; 0;) { ... }
</pre></td></tr></table>

<p>to avoid problems with wrap-around at <code>i=0</code>.  Note that the
post-decrement ensures that the loop variable is tested before it
reaches zero.  Beware that <code>i</code> will wraparound on exit from the
loop.  (This could also be written as <code>for (i = N; i--;)</code> since
the test for <code>i&gt;0</code> is equivalent to <code>i!=0</code> for an unsigned
integer)
</p>
<p>If you really want to avoid confusion use a separate variable to invert
the loop order,
</p><table><tr><td>&nbsp;</td><td><pre class="example">for (i = 0; i &lt; N; i++) { j = N - i; ... }
</pre></td></tr></table>

<p>Note (BJG). Originally, I suggested using
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">for (i = N; i &gt; 0 &amp;&amp; i--;) { ... }
</pre></td></tr></table>

<p>which makes the test for <code>i&gt;0</code> explicit and leaves <code>i=0</code> on
exit from the loop.  However, it is slower as there is an additional
branch which prevents unrolling.  Thanks to J. Seward for pointing
this out.
</p>
<p>Note: As a matter of style, please use post-increment (<code>i++</code>) and
post-decrement (<code>i--</code>) operators by default and only use
pre-increment (<code>++i</code>) and pre-decrement (<code>--i</code>) operators
where specifically needed.
</p>
<hr size="6">
<a name="Arrays-vs-Pointers"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#size_005ft" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pointers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arrays-vs-Pointers-1"></a>
<h2 class="section">3.29 Arrays vs Pointers</h2>

<p>A function can be declared with either pointer arguments or array
arguments.  The C standard considers these to be equivalent. However, it
is useful to distinguish between the case of a pointer, representing a
single object which is being modified, and an array which represents a
set of objects with unit stride (that are modified or not depending on
the presence of <code>const</code>).  For vectors, where the stride is not
required to be unity, the pointer form is preferred.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">/* real value, set on output */
int foo (double * x);                           

/* real vector, modified */
int foo (double * x, size_t stride, size_t n);  

/* constant real vector */
int foo (const double * x, size_t stride, size_t n);  

/* real array, modified */
int bar (double x[], size_t n);                 

/* real array, not modified */
int baz (const double x[], size_t n);           
</pre></td></tr></table>

<hr size="6">
<a name="Pointers"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Arrays-vs-Pointers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Constness" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Pointers-1"></a>
<h2 class="section">3.30 Pointers</h2>

<p>Avoid dereferencing pointers on the right-hand side of an expression where
possible.  It&rsquo;s better to introduce a temporary variable.  This is
easier for the compiler to optimise and also more readable since it
avoids confusion between the use of <code>*</code> for multiplication and
dereferencing.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">while (fabs (f) &lt; 0.5)
{
  *e = *e - 1;
  f  *= 2;
}
</pre></td></tr></table>

<p>is better written as,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">{ 
  int p = *e;

  while (fabs(f) &lt; 0.5)
    {
     p--;
     f *= 2;
    }

  *e = p;
}
</pre></td></tr></table>

<hr size="6">
<a name="Constness"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pointers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pseudo_002dtemplates" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Constness-1"></a>
<h2 class="section">3.31 Constness</h2>

<p>Use <code>const</code> in function prototypes wherever an object pointed to by
a pointer is constant (obviously).  For variables which are meaningfully
constant within a function/scope use <code>const</code> also.  This prevents
you from accidentally modifying a variable which should be constant
(e.g. length of an array, etc).  It can also help the compiler do
optimization.  These comments also apply to arguments passed by value
which should be made <code>const</code> when that is meaningful.
</p>
<hr size="6">
<a name="Pseudo_002dtemplates"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Constness" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Arbitrary-Constants" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Pseudo_002dtemplates-1"></a>
<h2 class="section">3.32 Pseudo-templates</h2>

<p>There are some pseudo-template macros available in &lsquo;<tt>templates_on.h</tt>&rsquo;
and &lsquo;<tt>templates_off.h</tt>&rsquo;.  See a directory link &lsquo;<tt>block</tt>&rsquo; for
details on how to use them.  Use sparingly, they are a bit of a
nightmare, but unavoidable in places.
</p>
<p>In particular, the convention is: templates are used for operations on
&quot;data&quot; only (vectors, matrices, statistics, sorting).  This is intended
to cover the case where the program must interface with an external
data-source which produces a fixed type. e.g. a big array of char&rsquo;s
produced by an 8-bit counter.
</p>
<p>All other functions can use double, for floating point, or the
appropriate integer type for integers (e.g. unsigned long int for random
numbers).  It is not the intention to provide a fully templated version
of the library. 
</p>
<p>That would be &quot;putting a quart into a pint pot&quot;. To summarize, almost
everything should be in a &quot;natural type&quot; which is appropriate for
typical usage, and templates are there to handle a few cases where it is
unavoidable that other data-types will be encountered.
</p>
<p>For floating point work &quot;double&quot; is considered a &quot;natural type&quot;.  This
sort of idea is a part of the C language.
</p>
<hr size="6">
<a name="Arbitrary-Constants"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pseudo_002dtemplates" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Test-suites" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arbitrary-Constants-1"></a>
<h2 class="section">3.33 Arbitrary Constants</h2>

<p>Avoid arbitrary constants.
</p>
<p>For example, don&rsquo;t hard code &quot;small&quot; values like &rsquo;1e-30&rsquo;, &rsquo;1e-100&rsquo; or
<code>10*GSL_DBL_EPSILON</code> into the routines.  This is not appropriate
for a general purpose library.
</p>
<p>Compute values accurately using IEEE arithmetic.  If errors are
potentially significant then error terms should be estimated reliably
and returned to the user, by analytically deriving an error propagation
formula, not using guesswork.
</p>
<p>A careful consideration of the algorithm usually shows that arbitrary
constants are unnecessary, and represent an important parameter which
should be accessible to the user.
</p>
<p>For example, consider the following code:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">if (residual &lt; 1e-30) {
   return 0.0;  /* residual is zero within round-off error */
}
</pre></td></tr></table>

<p>This should be rewritten as,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   return residual;
</pre></td></tr></table>

<p>in order to allow the user to determine whether the residual is 
significant or not.
</p>
<p>The only place where it is acceptable to use constants like
<code>GSL_DBL_EPSILON</code> is in function approximations, (e.g. Taylor
series, asymptotic expansions, etc).  In these cases it is not an
arbitrary constant, but an inherent part of the algorithm.
</p>
<hr size="6">
<a name="Test-suites"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Arbitrary-Constants" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compilation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Test-suites-1"></a>
<h2 class="section">3.34 Test suites</h2>

<p>The implementor of each module should provide a reasonable test suite
for the routines.
</p>
<p>The test suite should be a program that uses the library and checks the
result against known results, or invokes the library several times and
does a statistical analysis on the results (for example in the case of
random number generators).
</p>
<p>Ideally the one test program per directory should aim for 100% path
coverage of the code.  Obviously it would be a lot of work to really
achieve this, so prioritize testing on the critical parts and use
inspection for the rest.  Test all the error conditions by explicitly
provoking them, because we consider it a serious defect if the function
does not return an error for an invalid parameter. N.B. Don&rsquo;t bother to
test for null pointers &ndash; it&rsquo;s sufficient for the library to segfault if
the user provides an invalid pointer.
</p>
<p>The tests should be deterministic.  Use the <code>gsl_test</code> functions
provided to perform separate tests for each feature with a separate
output PASS/FAIL line, so that any failure can be uniquely identified.
</p>
<p>Use realistic test cases with &rsquo;high entropy&rsquo;.  Tests on simple values
such as 1 or 0 may not reveal bugs.  For example, a test using a value
of <em>x=1</em> will not pick up a missing factor of <em>x</em> in the code.
Similarly, a test using a value of <em>x=0</em> will not pick any missing
terms involving <em>x</em> in the code.  Use values like <em>2.385</em> to
avoid silent failures. 
</p>
<p>If your test uses multiple values make sure there are no simple
relations between them that could allow bugs to be missed through silent
cancellations.
</p>
<p>If you need some random floats to put in the test programs use <code>od -f
/dev/random</code> as a source of inspiration.
</p>
<p>Don&rsquo;t use <code>sprintf</code> to create output strings in the tests.  It can
cause hard to find bugs in the test programs themselves.  The functions
<code>gsl_test_...</code>  support format string arguments so use these
instead.
</p>
<hr size="6">
<a name="Compilation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Test-suites" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Thread_002dsafety" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Compilation-1"></a>
<h2 class="section">3.35 Compilation</h2>

<p>Make sure everything compiles cleanly.  Use the strict compilation
options for extra checking.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">make CFLAGS=&quot;-ansi -pedantic -Werror -W -Wall -Wtraditional -Wconversion 
  -Wshadow -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings 
  -Wstrict-prototypes -fshort-enums -fno-common -Wmissing-prototypes 
  -Wnested-externs -Dinline= -g -O4&quot;
</pre></td></tr></table>

<p>Also use <code>checkergcc</code> to check for memory problems on the stack and
the heap.  It&rsquo;s the best memory checking tool.  If checkergcc isn&rsquo;t
available then Electric Fence will check the heap, which is better than
no checking.
</p>
<p>There is a new tool <code>valgrind</code> for checking memory access.  Test
the code with this as well.
</p>
<p>Make sure that the library will also compile with C++ compilers
(g++).  This should not be too much of a problem if you have been writing
in ANSI C.
</p>
<hr size="6">
<a name="Thread_002dsafety"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compilation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Legal-issues" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Thread_002dsafety-1"></a>
<h2 class="section">3.36 Thread-safety</h2>

<p>The library should be usable in thread-safe programs.  All the functions
should be thread-safe, in the sense that they shouldn&rsquo;t use static
variables.
</p>
<p>We don&rsquo;t require everything to be completely thread safe, but anything
that isn&rsquo;t should be obvious.  For example, some global variables are
used to control the overall behavior of the library (range-checking
on/off, function to call on fatal error, etc).  Since these are accessed
directly by the user it is obvious to the multi-threaded programmer that
they shouldn&rsquo;t be modified by different threads.
</p>
<p>There is no need to provide any explicit support for threads
(e.g. locking mechanisms etc), just to avoid anything which would make
it impossible for someone to call a GSL routine from a multithreaded
program.
</p>

<hr size="6">
<a name="Legal-issues"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Thread_002dsafety" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dUNIX-portability" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Legal-issues-1"></a>
<h2 class="section">3.37 Legal issues</h2>

<ul>
<li>
Each contributor must make sure her code is under the GNU General Public
License (GPL).   This means getting a disclaimer from your employer.
</li><li>
We must clearly understand ownership of existing code and algorithms.
</li><li>
Each contributor can retain ownership of their code, or sign it over to
FSF as they prefer. 

<p>There is a standard disclaimer in the GPL (take a look at it).  The more
specific you make your disclaimer the more likely it is that it will be
accepted by an employer.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Yoyodyne, Inc., hereby disclaims all copyright interest in the software
`GNU Scientific Library - Legendre Functions' (routines for computing
Legendre functions numerically in C) written by James Hacker.

&lt;signature of Ty Coon&gt;, 1 April 1989
Ty Coon, President of Vice
</pre></td></tr></table>

</li><li> 
Obviously: don&rsquo;t use or translate non-free code. 

<p>In particular don&rsquo;t copy or translate code from <cite>Numerical Recipes</cite>
or <cite>ACM TOMS</cite>.
</p>
<p>Numerical Recipes is under a strict license and is not free software.
The publishers Cambridge University Press claim copyright on all aspects
of the book and the code, including function names, variable names and
ordering of mathematical subexpressions.  Routines in GSL should not
refer to Numerical Recipes or be based on it in any way.  
</p>
<p>The ACM algorithms published in TOMS (Transactions on Mathematical
Software) are not public domain, even though they are distributed on the
internet &ndash; the ACM uses a special non-commercial license which is not
compatible with the GPL. The details of this license can be found on the
cover page of ACM Transactions on Mathematical Software or on the ACM
Website.
</p>
<p>Only use code which is explicitly under a free license: GPL or Public
Domain.  If there is no license on the code then this does not mean it
is public domain &ndash; an explicit statement is required. If in doubt check
with the author.
</p>
</li><li>
I <strong>think</strong> one can reference algorithms from classic books on
numerical analysis (BJG: yes, provided the code is an independent
implementation and not copied from any existing software.  For
example, it would be ok to read the papers in ACM TOMS and make an
independent implementation from their description).
</li></ul>

<hr size="6">
<a name="Non_002dUNIX-portability"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Legal-issues" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compatibility-with-other-libraries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Non_002dUNIX-portability-1"></a>
<h2 class="section">3.38 Non-UNIX portability</h2>

<p>There is good reason to make this library work on non-UNIX systems.  It
is probably safe to ignore DOS and only worry about windows95/windowsNT
portability (so filenames can be long, I think).
</p>
<p>On the other hand, nobody should be forced to use non-UNIX systems for
development.
</p>
<p>The best solution is probably to issue guidelines for portability, like
saying &quot;don&rsquo;t use XYZ unless you absolutely have to&quot;.  Then the Windows
people will be able to do their porting.
</p>
<hr size="6">
<a name="Compatibility-with-other-libraries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Non_002dUNIX-portability" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parallelism" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Compatibility-with-other-libraries-1"></a>
<h2 class="section">3.39 Compatibility with other libraries</h2>

<p>We do not regard compatibility with other numerical libraries as a
priority.
</p>
<p>However, other libraries, such as Numerical Recipes, are widely used.
If somebody writes the code to allow drop-in replacement of these
libraries it would be useful to people.  If it is done, it would be as a
separate wrapper that can be maintained and shipped separately.
</p>
<p>There is a separate issue of system libraries, such as BSD math library
and functions like <code>expm1</code>, <code>log1p</code>, <code>hypot</code>.  The
functions in this library are available on nearly every platform (but
not all).  
</p>
<p>In this case, it is best to write code in terms of these native
functions to take advantage of the vendor-supplied system library (for
example log1p is a machine instruction on the Intel x86). The library
also provides portable implementations e.g. <code>gsl_hypot</code> which are
used as an automatic fall back via autoconf when necessary. See the
usage of <code>hypot</code> in &lsquo;<tt>gsl/complex/math.c</tt>&rsquo;, the implementation
of <code>gsl_hypot</code> and the corresponding parts of files
&lsquo;<tt>configure.in</tt>&rsquo; and &lsquo;<tt>config.h.in</tt>&rsquo; as an example.
</p>
<hr size="6">
<a name="Parallelism"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compatibility-with-other-libraries" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Precision" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Parallelism-1"></a>
<h2 class="section">3.40 Parallelism</h2>

<p>We don&rsquo;t intend to provide support for parallelism within the library
itself. A parallel library would require a completely different design
and would carry overhead that other applications do not need.
</p>
<hr size="6">
<a name="Precision"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Parallelism" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Miscellaneous" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Precision-1"></a>
<h2 class="section">3.41 Precision</h2>

<p>For algorithms which use cutoffs or other precision-related terms please
express these in terms of <code>GSL_DBL_EPSILON</code> and <code>GSL_DBL_MIN</code>, or powers or
combinations of these.  This makes it easier to port the routines to
different precisions.
</p>
<hr size="6">
<a name="Miscellaneous"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Precision" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Design" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Miscellaneous-1"></a>
<h2 class="section">3.42 Miscellaneous</h2>

<p>Don&rsquo;t use the letter <code>l</code> as a variable name &mdash; it is difficult to
distinguish from the number <code>1</code>. (This seems to be a favorite in
old Fortran programs).
</p>
<p>Final tip: one perfect routine is better than any number of routines
containing errors.
</p>
<hr size="6">
<a name="Bibliography"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Miscellaneous" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#General-numerics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Design" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Copying" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Bibliography-1"></a>
<h1 class="chapter">4. Bibliography</h1>

<hr size="6">
<a name="General-numerics"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Bibliography" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Reference" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Copying" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section">4.1 General numerics</h2>

<ul>
<li>
<cite>Numerical Computation</cite> (2 Volumes) by C.W. Ueberhuber,
Springer 1997,  ISBN 3540620583  (Vol 1) and  ISBN 3540620575  (Vol 2).

</li><li>
<cite>Accuracy and Stability of Numerical Algorithms</cite> by  N.J. Higham, 
SIAM,  ISBN 0898715210.

</li><li>
<cite>Sources and Development of Mathematical Software</cite> edited by W.R. Cowell,
Prentice Hall, ISBN 0138235015.

</li><li>
<cite>A Survey of Numerical Mathematics (2 vols)</cite> by D.M. Young and R.T. Gregory,
 ISBN 0486656918, ISBN 0486656926.

</li><li>
<cite>Methods and Programs for Mathematical Functions</cite> by Stephen L. Moshier,
Hard to find (ISBN 13578980X or 0135789982, possibly others).

</li><li>
<cite>Numerical Methods That Work</cite> by Forman S. Acton,
 ISBN 0883854503.

</li><li>
<cite>Real Computing Made Real: Preventing Errors in Scientific and Engineering Calculations</cite> by Forman S. Acton,
 ISBN 0486442217. 
</li></ul>

<hr size="6">
<a name="Reference"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#General-numerics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Subject-specific" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Copying" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section">4.2 Reference</h2>

<ul>
<li>
<cite>Handbook of Mathematical Functions</cite> edited by Abramowitz &amp; Stegun,
Dover,  ISBN 0486612724.

</li><li>
<cite>The Art of Computer Programming</cite> (3rd Edition, 3 Volumes) by D. Knuth,
Addison Wesley,  ISBN 0201485419.
</li></ul>

<hr size="6">
<a name="Subject-specific"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Reference" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Copying" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Copying" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section">4.3 Subject specific</h2>

<ul>
<li>
<cite>Matrix Computations</cite> (3rd Ed) by G.H. Golub, C.F. Van Loan,
Johns Hopkins University Press 1996,  ISBN 0801854148.

</li><li>
<cite>LAPACK Users&rsquo; Guide</cite> (3rd Edition),
SIAM 1999,  ISBN 0898714478.

</li><li>
<cite>Treatise on the Theory of Bessel Functions 2ND Edition</cite> by G N Watson,
 ISBN 0521483913.

</li><li>
<cite>Higher Transcendental Functions satisfying nonhomogeneous linear differential equations</cite> by A W Babister,
 ISBN 1114401773.

</li></ul>

<hr size="6">
<a name="Copying"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Subject-specific" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Bibliography" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Copying-1"></a>
<h1 class="unnumbered">Copying</h1>

<p>   The subroutines and source code in the <i>GNU Scientific Library</i> package are &quot;free&quot;;
this means that everyone is free to use them and free to redistribute
them on a free basis.  The <i>GNU Scientific Library</i>-related programs are not in the
public domain; they are copyrighted and there are restrictions on their
distribution, but these restrictions are designed to permit everything
that a good cooperating citizen would want to do.  What is not allowed
is to try to prevent others from further sharing any version of these
programs that they might get from you.
</p>
<p>   Specifically, we want to make sure that you have the right to give
away copies of the programs that relate to <i>GNU Scientific Library</i>, that you receive
source code or else can get it if you want it, that you can change these
programs or use pieces of them in new free programs, and that you know
you can do these things.
</p>
<p>   To make sure that everyone has such rights, we have to forbid you to
deprive anyone else of these rights.  For example, if you distribute
copies of the <i>GNU Scientific Library</i>-related code, you must give the recipients all
the rights that you have.  You must make sure that they, too, receive or
can get the source code.  And you must tell them their rights.
</p>
<p>   Also, for our own protection, we must make certain that everyone
finds out that there is no warranty for the programs that relate to
<i>GNU Scientific Library</i>.  If these programs are modified by someone else and passed
on, we want their recipients to know that what they have is not what we
distributed, so that any problems introduced by others will not reflect
on our reputation.
</p>
<p>   The precise conditions of the licenses for the programs currently
being distributed that relate to <i>GNU Scientific Library</i> are found in the General
Public Licenses that accompany them.
</p>
<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Copying" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Copying" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Free-Documentation-License-1"></a>
<h1 class="unnumbered">GNU Free Documentation License</h1>
<p align="center"> Version 1.3, 3 November 2008
</p>

<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="http://fsf.org/">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is
not allowed.
</pre></td></tr></table>

<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li>
Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li>
RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>


<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h2 class="heading">ADDENDUM: How to use this License for your documents</h2>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify
  this document under the terms of the GNU Free
  Documentation License, Version 1.3 or any later version
  published by the Free Software Foundation; with no
  Invariant Sections, no Front-Cover Texts, and no
  Back-Cover Texts.  A copy of the license is included in
  the section entitled ``GNU Free Documentation License''.
</pre></td></tr></table>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  with the Invariant Sections being <var>list their
  titles</var>, with the Front-Cover Texts being <var>list</var>, and 
  with the Back-Cover Texts being <var>list</var>.
</pre></td></tr></table>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>









<hr size="6">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Motivation-1" href="#Motivation">1. Motivation</a></li>
  <li><a name="toc-Contributing-1" href="#Contributing">2. Contributing</a>
  <ul class="toc">
    <li><a name="toc-Packages-1" href="#Packages">2.1 Packages</a></li>
  </ul></li>
  <li><a name="toc-Design-1" href="#Design">3. Design</a>
  <ul class="toc">
    <li><a name="toc-Language-for-implementation-1" href="#Language-for-implementation">3.1 Language for implementation</a></li>
    <li><a name="toc-Interface-to-other-languages-1" href="#Interface-to-other-languages">3.2 Interface to other languages</a></li>
    <li><a name="toc-What-routines-are-implemented-1" href="#What-routines-are-implemented">3.3 What routines are implemented</a></li>
    <li><a name="toc-What-routines-are-not-implemented-1" href="#What-routines-are-not-implemented">3.4 What routines are not implemented</a></li>
    <li><a name="toc-Design-of-Numerical-Libraries-1" href="#Design-of-Numerical-Libraries">3.5 Design of Numerical Libraries</a></li>
    <li><a name="toc-Code-Reuse-1" href="#Code-Reuse">3.6 Code Reuse</a></li>
    <li><a name="toc-Standards-and-conventions-1" href="#Standards-and-conventions">3.7 Standards and conventions</a></li>
    <li><a name="toc-Background-and-Preparation-1" href="#Background-and-Preparation">3.8 Background and Preparation</a></li>
    <li><a name="toc-Choice-of-Algorithms-1" href="#Choice-of-Algorithms">3.9 Choice of Algorithms</a></li>
    <li><a name="toc-Documentation-1" href="#Documentation">3.10 Documentation</a></li>
    <li><a name="toc-Namespace-1" href="#Namespace">3.11 Namespace</a></li>
    <li><a name="toc-Header-files-1" href="#Header-files">3.12 Header files</a></li>
    <li><a name="toc-Target-system-1" href="#Target-system">3.13 Target system</a></li>
    <li><a name="toc-Function-Names-1" href="#Function-Names">3.14 Function Names</a></li>
    <li><a name="toc-Object_002dorientation-1" href="#Object_002dorientation">3.15 Object-orientation</a></li>
    <li><a name="toc-Comments-1" href="#Comments">3.16 Comments</a></li>
    <li><a name="toc-Minimal-structs-1" href="#Minimal-structs">3.17 Minimal structs</a></li>
    <li><a name="toc-Algorithm-decomposition-1" href="#Algorithm-decomposition">3.18 Algorithm decomposition</a></li>
    <li><a name="toc-Memory-allocation-and-ownership-1" href="#Memory-allocation-and-ownership">3.19 Memory allocation and ownership</a></li>
    <li><a name="toc-Memory-layout-1" href="#Memory-layout">3.20 Memory layout</a></li>
    <li><a name="toc-Linear-Algebra-Levels-1" href="#Linear-Algebra-Levels">3.21 Linear Algebra Levels</a></li>
    <li><a name="toc-Error-estimates-1" href="#Error-estimates">3.22 Error estimates</a></li>
    <li><a name="toc-Exceptions-and-Error-handling-1" href="#Exceptions-and-Error-handling">3.23 Exceptions and Error handling</a></li>
    <li><a name="toc-Persistence-1" href="#Persistence">3.24 Persistence</a></li>
    <li><a name="toc-Using-Return-Values-1" href="#Using-Return-Values">3.25 Using Return Values</a></li>
    <li><a name="toc-Variable-Names-1" href="#Variable-Names">3.26 Variable Names</a></li>
    <li><a name="toc-Datatype-widths-1" href="#Datatype-widths">3.27 Datatype widths</a></li>
    <li><a name="toc-size_005ft-1" href="#size_005ft">3.28 size_t</a></li>
    <li><a name="toc-Arrays-vs-Pointers-1" href="#Arrays-vs-Pointers">3.29 Arrays vs Pointers</a></li>
    <li><a name="toc-Pointers-1" href="#Pointers">3.30 Pointers</a></li>
    <li><a name="toc-Constness-1" href="#Constness">3.31 Constness</a></li>
    <li><a name="toc-Pseudo_002dtemplates-1" href="#Pseudo_002dtemplates">3.32 Pseudo-templates</a></li>
    <li><a name="toc-Arbitrary-Constants-1" href="#Arbitrary-Constants">3.33 Arbitrary Constants</a></li>
    <li><a name="toc-Test-suites-1" href="#Test-suites">3.34 Test suites</a></li>
    <li><a name="toc-Compilation-1" href="#Compilation">3.35 Compilation</a></li>
    <li><a name="toc-Thread_002dsafety-1" href="#Thread_002dsafety">3.36 Thread-safety</a></li>
    <li><a name="toc-Legal-issues-1" href="#Legal-issues">3.37 Legal issues</a></li>
    <li><a name="toc-Non_002dUNIX-portability-1" href="#Non_002dUNIX-portability">3.38 Non-UNIX portability</a></li>
    <li><a name="toc-Compatibility-with-other-libraries-1" href="#Compatibility-with-other-libraries">3.39 Compatibility with other libraries</a></li>
    <li><a name="toc-Parallelism-1" href="#Parallelism">3.40 Parallelism</a></li>
    <li><a name="toc-Precision-1" href="#Precision">3.41 Precision</a></li>
    <li><a name="toc-Miscellaneous-1" href="#Miscellaneous">3.42 Miscellaneous</a></li>
  </ul></li>
  <li><a name="toc-Bibliography-1" href="#Bibliography">4. Bibliography</a>
  <ul class="toc">
    <li><a name="toc-General-numerics" href="#General-numerics">4.1 General numerics</a></li>
    <li><a name="toc-Reference" href="#Reference">4.2 Reference</a></li>
    <li><a name="toc-Subject-specific" href="#Subject-specific">4.3 Subject specific</a></li>
  </ul></li>
  <li><a name="toc-Copying-1" href="#Copying">Copying</a></li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>A. Gerow</em> on <em>April 2, 2015</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>A. Gerow</em> on <em>April 2, 2015</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
